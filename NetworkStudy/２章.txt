・TCP/IPとは
現在のインターネット通信およびイントラネット通信において最も利用されている通信プロトコルのこと

・TCP/IPの階層モデル
全４階層となっており

アプリケーション層→主にアプリケーションごとの固有の規定
トランスポート層→主にノード間の転送の信頼性を確保するための規定
インターネット層→主にネットワーク間のエンドツーエンドの通信のための規定
ネットワークインターフェース層(＝ネットワークアクセス層)→主に直接接続されたノード間の通信のための規定

となっている

・TCP/IPの階層モデルにおけるカプセル化と非カプセル化
送信側は
「アプリケーション層」→「トランスポート層」→「インターネット層」→「ネットワークインターフェース層」
とカプセル化し、
受信側は
「ネットワークインターフェース層」→「インターネット層」→「トランスポート層」→「アプリケーション層」
と非カプセル化する。

・IPとは
OSI参照モデルではネットワーク層で動作し、TCP/IPの階層モデルではインターネット層で動作するプロトコル

・IPヘッダのフォーマット
IPヘッダは２０バイトのサイズだがオプションが追加された際には最大で６０バイトのサイズになる

・IPプロトコルの特徴
IPプロトコルには３つの特徴がある
①コネクションレス型通信
ネットワーク通信に際して、事前にコンピュータ間でコネクションを確立しないでいきなりデータ伝送を始める通信のこと
②ベストエフォート型通信
ネットワーク通信に際して、最善の努力は尽くすが、必ずしも十分な品質は保証しない通信のこと
③階層型アドレッシング
IPプロトコルにより割り当てられる論理アドレスは、コンピュータが所属しているグループと、そのネットワークに接続されているコンピュータを識別する番号のこれら２階層により構成されている

・ARPとは
IPアドレスからEtherenetのMACアドレスの情報を得られるプロトコル

・ARPの仕組み
ARPには「ARPリクエストとARPリプライ」という２種類にパケットがある。
これらを利用し、宛先となるIPアドレスを持つノードのMACアドレスの情報を得る

・RARPとは
EthernetのMACアドレスからIPアドレスの情報を得ることのできるプロトコル
ARPとは逆の動きで、現在はほぼ使われない

・GARPとは
ARPのパケットの一つ。二つの特徴がある。
①IPアドレスが重複していないかどうか検出
②ARPキャッシュを更新

・役割
自分自身にIPアドレスがアサインされる際に他のホストが同じIPアドレスを使用していないか確認することができる
また、同じセグメントのネットワーク機器上のARPキャッシュを更新することで切り替わりが発生した機器とすぐに通信できるようになる

・ARPキャッシュとARPテーブル
一度、ARPリクエストとARPリプライによりARPの情報がやり取りっされるとARPキャッシュとして一定時間情報が残る
その場合はLANでの通信が可能
ARPキャッシュ情報は、ARPテーブルというところに保存され、PCの場合はコマンドプロンプトでarp-aと入力すれば情報の確認ができる

・プロトコル番号
上位層のプロトコルを識別するための番号。IPヘッダに８ビット情報である。

・Ciscoで使用する拡張ACLの理解
拡張ACLのpermit/denyののちに、IP又はIPプロトコル番号を入力することでCiscoの拡張ACLを定義できる

・ICMPとは
IPプロトコルの「エラー通知」や「制御メッセージ」を転送するためのプロトコル
通信状態を確認するために使用

・ICMPメッセージ
大きく２種類ある
①問い合わせメッセージ
②エラー通知

・pingとは
ICMPプロトコルをしようした」ネットワークの診断プログラム
コマンドなどでも「ping」と使用する
これは通信ができるか確認することができる

・TCPとは
IP同様インターネットにおいて標準的に利用されているプロトコル
IPの上位プロトコルでトランスポート層で動作するプロトコル
またTCPは信頼性の高い通信を実現するために使用されるプロトコルである

・ポート番号とは
アプリケーションを特定するための番号

・TCPヘッダのフォーマット
TCPセグメントは以下の通り「TCPヘッダ」と「TCPペイロード」で構成されます

・TCP‐コネクションの確立と切断
TCPはコネクション型プロトコルであることから、データ転送を行う前にコネクションの確立を行います
このことを3ウェイハンドシェイクという
接続時
接続確認→応答と接続確認→応答
切断時
切断確認→応答と切断確認→応答

・UDPとは
IPやTCP同様にインターネットにて標準的に利用されているプロトコル
TCP同様にIPの上位プロトコルでトランスポート層で動作するプロトコル
TCPと比べ信頼性は高くないが、速さやリアルタイム性を求める通信に使用される
また、TCPとは違い３ウェイハンドシェイクがない

・TCPとUDPとの比較
通信方式
【TCP】
コネクション型	
【UDP】
コネクションレス型

信頼性
【TCP】
高い
【UDP】
低い

転送速度
【TCP】
低速
【UDP】
高速

上位プロトコル
【TCP】
HTTP、Telnet、FTP、POP・・・
【UDP】
DNS、NTP、DHCP，SNMP ・・・

主な用途
【TCP】
Webの閲覧、メールの送受信、ファイル転送、共有	
【UDP】
音声通話、Videoストリーミング、マルチキャスト通信、ブロードキャスト通信、少量のデータ転送

主な特徴
【TCP】	
ポート番号を利用した上位プロトコルへの
データの受け渡し
コネクションの確立、維持、切断
順序制御、再送制御、ウィンドウ制御、フロー制御
【UDP】
ポート番号を利用した上位プロトコルへの
データの橋渡し
オーバーヘッドが少ない （ ヘッダが8byte )
信頼性がない (パケットロスしても再送しない等）

・MTU
一回のデータ転送にて送信可能な[IPデータグラムの最大値]のこと

・MSS
TCPが格納するユーザーデータで「受信可能なセグメントサイズの最大値」のこと

・RWIN
相手側の確認応答(Ask)を持たずに、一度の送信できるデータサイズのこと

・Path MTU Discovery
